var isIE = navigator.userAgent.toLowerCase().indexOf("msie") == -1 ? false : true, isIE6 = navigator.userAgent.toLowerCase().indexOf("msie 6") == -1 ? false : true, isIE7 = navigator.userAgent.toLowerCase().indexOf("msie 7") == -1 ? false : true; function fixImageSize(d, c, b, a) { ratio = b / d; w = b; h = c * ratio; if (h > a) { ratio = a / c; w = d * ratio; h = a } return Array(parseInt(w), parseInt(h)) } function tooltip_Product() { $(".sublefttindex pre").each(function (c, a) { ob = $(a).parent().find(".tooltip"); var b = $(a).parent().find(".tooltip img"); ob.tooltip({ bodyHandler: function () { tooltipWidth = typeof ob.attr("tooltipWidth") != "undefined" ? ob.attr("tooltipWidth") : 310; $("#tooltip").css("width","auto"); $(a).find(".picture").html(function () { width = typeof $(this).attr("width") != "undefined" ? $(this).attr("width") : b.width(); height = typeof $(this).attr("height") != "undefined" ? $(this).attr("height") : b.height(); maxWidth = typeof $(this).attr("maxWidth") != "undefined" ? $(this).attr("maxWidth") : 300; maxHeight = typeof $(this).attr("maxHeight") != "undefined" ? $(this).attr("maxHeight") : 250; arrFixSize = fixImageSize(width, height, maxWidth, maxHeight); return '<img width="' + arrFixSize[0] + '" height="' + arrFixSize[1] + '" src="' + $(this).attr("src") + '" />' }); return $(a).html() }, track: true, showURL: false, extraClass: "tooltip_product" }) }) } function initLoaded() { tooltip_Product() }